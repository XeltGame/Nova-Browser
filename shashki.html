<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Шашки</title>
  <style>
    body {
      background: #333;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      font-family: sans-serif;
    }

    #board {
      display: grid;
      grid-template-columns: repeat(8, 60px);
      grid-template-rows: repeat(8, 60px);
      border: 4px solid #000;
    }

    .cell {
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .black {
      background-color: #444;
    }

    .white {
      background-color: #eee;
    }

    .piece {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      cursor: pointer;
    }

    .red-piece {
      background-color: red;
    }

    .white-piece {
      background-color: white;
      border: 2px solid #000;
    }

    .selected {
      outline: 3px solid yellow;
    }
  </style>
</head>
<body>

  <div id="board"></div>

  <script>
    const board = document.getElementById('board');
    const SIZE = 8;
    let selectedPiece = null;
    let currentPlayer = 'white'; // white starts

    function createBoard() {
      board.innerHTML = '';
      for (let y = 0; y < SIZE; y++) {
        for (let x = 0; x < SIZE; x++) {
          const cell = document.createElement('div');
          cell.classList.add('cell');
          cell.dataset.x = x;
          cell.dataset.y = y;

          if ((x + y) % 2 === 0) {
            cell.classList.add('white');
          } else {
            cell.classList.add('black');

            // Place pieces
            if (y < 3) {
              const piece = createPiece('red');
              cell.appendChild(piece);
            } else if (y > 4) {
              const piece = createPiece('white');
              cell.appendChild(piece);
            }
          }

          board.appendChild(cell);
        }
      }
    }

    function createPiece(color) {
      const piece = document.createElement('div');
      piece.classList.add('piece');
      piece.classList.add(color === 'white' ? 'white-piece' : 'red-piece');
      piece.dataset.color = color;
      piece.addEventListener('click', (e) => {
        e.stopPropagation();
        selectPiece(piece);
      });
      return piece;
    }

    function selectPiece(piece) {
      if (piece.dataset.color !== currentPlayer) return;

      if (selectedPiece) {
        selectedPiece.classList.remove('selected');
      }

      selectedPiece = piece;
      selectedPiece.classList.add('selected');
    }

    board.addEventListener('click', (e) => {
      const cell = e.target.closest('.cell');
      if (!cell || !selectedPiece) return;

      const targetCell = cell;
      if (targetCell.children.length === 0) {
        const fromCell = selectedPiece.parentElement;
        const dx = Math.abs(cell.dataset.x - fromCell.dataset.x);
        const dy = cell.dataset.y - fromCell.dataset.y;

        const direction = selectedPiece.dataset.color === 'white' ? -1 : 1;

        if (dx === 1 && dy == direction) {
          // Move
          targetCell.appendChild(selectedPiece);
          selectedPiece.classList.remove('selected');
          selectedPiece = null;
          currentPlayer = currentPlayer === 'white' ? 'red' : 'white';
        }
      }
    });

    createBoard();
  </script>

</body>
</html>