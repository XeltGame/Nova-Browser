<!DOCTYPE html>
<html>
<head>
    <title>Nova Games Browser</title>
    <link rel="icon" type="image/x-icon" sizes="64x64" href="3.PNG">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
        }
        .game-container {
            background-color: #bbb;
            padding: 15px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.2);
            text-align: center;
        }
        .info-panel {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding: 5px 10px;
            background-color: #ddd;
            border-radius: 3px;
        }
        #board {
            display: grid;
            grid-template-columns: repeat(10, 30px);
            grid-template-rows: repeat(10, 30px);
            gap: 2px;
        }
        .cell {
            width: 30px;
            height: 30px;
            background-color: #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            border: 2px outset #eee;
            user-select: none;
        }
        .revealed {
            background-color: #ccc;
            border: 1px solid #999;
        }
        .mine {
            background-color: #ff4444;
        }
        .flag {
            background-color: #ffcc00;
        }
        .controls {
            margin-top: 15px;
        }
        button {
            padding: 8px 15px;
            font-size: 14px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 3px;
            cursor: pointer;
        }
        .number-1 { color: blue; }
        .number-2 { color: green; }
        .number-3 { color: red; }
        .number-4 { color: darkblue; }
        .number-5 { color: brown; }
        .number-6 { color: teal; }
        .number-7 { color: black; }
        .number-8 { color: gray; }
    </style>
</head>
<body>
    <div class="game-container">
        <h2>–°–∞–ø—ë—Ä</h2>
        <div class="info-panel">
            <div>–§–ª–∞–≥–∏: <span id="flags">10</span></div>
            <div>–í—Ä–µ–º—è: <span id="time">0</span></div>
        </div>
        <div id="board"></div>
        <div class="controls">
            <button id="restart">–ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
        </div>
    </div>

    <script>
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä—ã
        const ROWS = 10;
        const COLS = 10;
        const MINES = 10;
        
        // –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
        let board = [];
        let revealed = [];
        let flags = [];
        let gameOver = false;
        let firstClick = true;
        let flagCount = MINES;
        let timer = 0;
        let timerInterval;
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        const boardElement = document.getElementById('board');
        const flagsElement = document.getElementById('flags');
        const timeElement = document.getElementById('time');
        const restartButton = document.getElementById('restart');
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
        function initGame() {
            // –û—á–∏—Å—Ç–∫–∞ –¥–æ—Å–∫–∏
            board = Array(ROWS).fill().map(() => Array(COLS).fill(0));
            revealed = Array(ROWS).fill().map(() => Array(COLS).fill(false));
            flags = Array(ROWS).fill().map(() => Array(COLS).fill(false));
            gameOver = false;
            firstClick = true;
            flagCount = MINES;
            
            // –°–±—Ä–æ—Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
            flagsElement.textContent = flagCount;
            timeElement.textContent = '0';
            clearInterval(timerInterval);
            timer = 0;
            boardElement.innerHTML = '';
            
            // –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–µ—Ç–æ–∫
            for (let r = 0; r < ROWS; r++) {
                for (let c = 0; c < COLS; c++) {
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    cell.dataset.row = r;
                    cell.dataset.col = c;
                    
                    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
                    cell.addEventListener('click', () => handleLeftClick(r, c));
                    cell.addEventListener('contextmenu', (e) => {
                        e.preventDefault();
                        handleRightClick(r, c);
                    });
                    
                    boardElement.appendChild(cell);
                }
            }
        }
        
        // –†–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–∏–Ω –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∏–∫–∞
        function placeMines(firstRow, firstCol) {
            let minesPlaced = 0;
            
            // –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º, —á—Ç–æ –ø–µ—Ä–≤–∞—è –∫–ª–µ—Ç–∫–∞ –∏ —Å–æ—Å–µ–¥–∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –º–∏–Ω
            const safeZone = [];
            for (let dr = -1; dr <= 1; dr++) {
                for (let dc = -1; dc <= 1; dc++) {
                    const nr = firstRow + dr;
                    const nc = firstCol + dc;
                    if (nr >= 0 && nr < ROWS && nc >= 0 && nc < COLS) {
                        safeZone.push(`${nr},${nc}`);
                    }
                }
            }
            
            // –†–∞—Å—Å—Ç–∞–≤–ª—è–µ–º –º–∏–Ω—ã
            while (minesPlaced < MINES) {
                const r = Math.floor(Math.random() * ROWS);
                const c = Math.floor(Math.random() * COLS);
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∫–ª–µ—Ç–∫–∞ –Ω–µ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∑–æ–Ω–µ –∏ –µ—â–µ –±–µ–∑ –º–∏–Ω—ã
                if (!safeZone.includes(`${r},${c}`) && board[r][c] !== -1) {
                    board[r][c] = -1; // -1 –æ–∑–Ω–∞—á–∞–µ—Ç –º–∏–Ω—É
                    minesPlaced++;
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫–∏ —Å–æ—Å–µ–¥–µ–π
                    for (let dr = -1; dr <= 1; dr++) {
                        for (let dc = -1; dc <= 1; dc++) {
                            const nr = r + dr;
                            const nc = c + dc;
                            if (nr >= 0 && nr < ROWS && nc >= 0 && nc < COLS && board[nr][nc] !== -1) {
                                board[nr][nc]++;
                            }
                        }
                    }
                }
            }
        }
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ª–µ–≤–æ–≥–æ –∫–ª–∏–∫–∞ (–æ—Ç–∫—Ä—ã—Ç–∏–µ –∫–ª–µ—Ç–∫–∏)
        function handleLeftClick(r, c) {
            if (gameOver || revealed[r][c] || flags[r][c]) return;
            
            // –ü–µ—Ä–≤—ã–π –∫–ª–∏–∫ - —Ä–∞—Å—Å—Ç–∞–≤–ª—è–µ–º –º–∏–Ω—ã
            if (firstClick) {
                placeMines(r, c);
                firstClick = false;
                startTimer();
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –º–∏–Ω—É
            if (board[r][c] === -1) {
                revealAllMines();
                gameOver = true;
                clearInterval(timerInterval);
                return;
            }
            
            // –û—Ç–∫—Ä—ã–≤–∞–µ–º –∫–ª–µ—Ç–∫—É
            revealCell(r, c);
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–±–µ–¥—ã
            checkWin();
        }
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∞–≤–æ–≥–æ –∫–ª–∏–∫–∞ (—Ñ–ª–∞–∂–æ–∫)
        function handleRightClick(r, c) {
            if (gameOver || revealed[r][c]) return;
            
            // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º —Ñ–ª–∞–∂–æ–∫
            flags[r][c] = !flags[r][c];
            const cell = document.querySelector(`.cell[data-row="${r}"][data-col="${c}"]`);
            
            if (flags[r][c]) {
                cell.classList.add('flag');
                cell.textContent = 'üö©';
                flagCount--;
            } else {
                cell.classList.remove('flag');
                cell.textContent = '';
                flagCount++;
            }
            
            flagsElement.textContent = flagCount;
        }
        
        // –û—Ç–∫—Ä—ã—Ç–∏–µ –∫–ª–µ—Ç–∫–∏
        function revealCell(r, c) {
            if (r < 0 || r >= ROWS || c < 0 || c >= COLS || revealed[r][c] || flags[r][c]) return;
            
            revealed[r][c] = true;
            const cell = document.querySelector(`.cell[data-row="${r}"][data-col="${c}"]`);
            cell.classList.add('revealed');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —á–∏—Å–ª–æ –º–∏–Ω –≤–æ–∫—Ä—É–≥ –∏–ª–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ–º —Å–æ—Å–µ–¥–µ–π –¥–ª—è –ø—É—Å—Ç—ã—Ö –∫–ª–µ—Ç–æ–∫
            if (board[r][c] > 0) {
                cell.textContent = board[r][c];
                cell.classList.add(`number-${board[r][c]}`);
            } else if (board[r][c] === 0) {
                // –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞–µ–º —Å–æ—Å–µ–¥–µ–π –¥–ª—è –ø—É—Å—Ç—ã—Ö –∫–ª–µ—Ç–æ–∫
                for (let dr = -1; dr <= 1; dr++) {
                    for (let dc = -1; dc <= 1; dc++) {
                        revealCell(r + dr, c + dc);
                    }
                }
            }
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –º–∏–Ω—ã –ø—Ä–∏ –ø—Ä–æ–∏–≥—Ä—ã—à–µ
        function revealAllMines() {
            for (let r = 0; r < ROWS; r++) {
                for (let c = 0; c < COLS; c++) {
                    if (board[r][c] === -1) {
                        const cell = document.querySelector(`.cell[data-row="${r}"][data-col="${c}"]`);
                        cell.classList.add('mine');
                        cell.textContent = 'üí£';
                    }
                }
            }
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–±–µ–¥—ã
        function checkWin() {
            for (let r = 0; r < ROWS; r++) {
                for (let c = 0; c < COLS; c++) {
                    // –ï—Å–ª–∏ –µ—Å—Ç—å –Ω–µ–æ—Ç–∫—Ä—ã—Ç–∞—è –∫–ª–µ—Ç–∫–∞ –±–µ–∑ –º–∏–Ω—ã - –∏–≥—Ä–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è
                    if (board[r][c] !== -1 && !revealed[r][c]) {
                        return false;
                    }
                }
            }
            
            // –í—Å–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∫–ª–µ—Ç–∫–∏ –æ—Ç–∫—Ä—ã—Ç—ã - –ø–æ–±–µ–¥–∞!
            gameOver = true;
            clearInterval(timerInterval);
            alert('–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –ø–æ–±–µ–¥–∏–ª–∏!');
            return true;
        }
        
        // –¢–∞–π–º–µ—Ä
        function startTimer() {
            timerInterval = setInterval(() => {
                timer++;
                timeElement.textContent = timer;
            }, 1000);
        }
        
        // –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
        restartButton.addEventListener('click', initGame);
        
        // –ù–∞—á–∞–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        initGame();
    </script>
    <br>
      <div class="onlyforchrome" style="font-size: 25px;text-align: center;font-family: Helvetica;"><b>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</b></div>
      <div class="onlyforchrome" style="font-size: 15px;text-align: center;font-family: Helvetica;"><p>–õ–ö–ú - –Ω–∞–∂–∞—Ç—å –Ω–∞ –ø–æ–ª–µ</p><p>–ü–ö–ú - –ø–æ—Å—Ç–∞–≤–∏—Ç—å —Ñ–ª–∞–∂–æ–∫</p></div>
</body>
</html>